{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-05T06:00:33.131Z",
  "summary": "Diff adds frontend utilities and UI wiring for 100-question blocks (blockUtils, chunk hook, editor/gameplay integration) and introduces backend state for block names, but the backend API surface for get/set block names is not visible in the provided backend diff snippet. Diff also includes unrelated adaptive scheduler changes and a new migration module not requested in the BuildRequest.",
  "missing_requirements": [
    {
      "id": "REQ-11",
      "requirement": "Backend exposes (1) a query method to return saved per-user block/pattern names for a given quizId, and (2) an update method to set a block name for quizId + 0-based blockIndex, scoped to authenticated caller.",
      "reason": "backend/main.mo shows a new `blockNames` state variable, but the diff excerpt does not show any new public query/update methods implementing the required APIs; content is truncated before any such methods appear.",
      "evidence": [
        "backend/main.mo (truncated: shows `let blockNames = ...` but no visible get/set methods)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Adaptive scheduler behavior change (interleaving repeats during first pass, added/used fields like `everMissed`, spacing rules changes).",
      "reason": "Not requested; also overlaps with the explicitly stated non-goal of implementing a “weak questions / wrong answers” related feature as part of this request.",
      "evidence": [
        "frontend-file-summaries.txt (mentions changes in `frontend/src/quiz/adaptiveScheduler.ts`)"
      ]
    },
    {
      "description": "Added backend upgrade migration module (`backend/migration.mo`) and wired upgrade migration hook in backend.",
      "reason": "Not requested by any requirement in the BuildRequest; introduces new backend module/code beyond specified features.",
      "evidence": [
        "backend/migration.mo",
        "backend/main.mo (imports `Migration \"migration\"` and `(with migration = Migration.run)`)"
      ]
    }
  ],
  "confidence": 0.6,
  "changed_files": [
    "backend/main.mo",
    "backend/migration.mo",
    "frontend-file-summaries.txt",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/quiz/QuizEditor.tsx",
    "frontend/src/quiz/QuizGameplay.tsx",
    "frontend/src/quiz/blockUtils.ts",
    "project_state.json"
  ]
}